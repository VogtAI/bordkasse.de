<html lang="en">
<head>
  <title>Freecount</title>

  <meta charset="utf-8">
  <meta name="description" content="Share expense among friends">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="./main.css" />
</head>

<body path="/" class="active">
  <h1>Freecount</h1>

  <section path="/setup">
    <h2>Let's start a trip</h2>
    <form class="init-trip" name="init_trip">
      <label for="init_trip_name">Trip name</label>
      <input type="text" id="init_trip_name" name="name" autocomplete="off" required/>

      <input type="hidden" name="currency" value="EUR" readonly/>

      <fieldset class="list-group" name="members">
        <legend>Who's joining?</legend>
        <ul>
          <li class="adder">
            <input type="text" placeholder="Put a name here" />
            <button type="button" class="add">Add</button>
          </li>
        </ul>
      </fieldset>

      <input type="submit" name="submit" value="Go!"/>
    </form>
  </section>

  <main path="/trip">
    <menu>
      <h2 to="/trip/expenses" class="active">Expenses</h2>
      <h2 to="/trip/balance">Balance</h2>
    </menu>
    <section path="/trip/expenses">
      <ul id="expense_list" class="expense-list">
        <li class="placeholder">
          <p>You haven't spent anything yet, well done!</p>
          <p>When someone buys something, just click on "Add an expense" below to record it.</p>
        </li>
      </ul>
      <footer>
        <button to="/add_expense" title="Add an expense">Add an expense</button>
      </footer>
    </section>
    <section path="/trip/balance">
      <ul is="balance-list" id="balance_list" class="balance-list listen-members"></ul>
    </section>
  </main>

  <section path="/add_expense">
    <h2>Add expense</h2>
    <form class="add-expense" name="add_expense">
      <label for="add_expense_title">Title</label>
      <input type="text" id="add_expense_title" name="title" autocomplete="off" required/>

      <label for="add_expense_amount">Amount (EUR)</label>
      <input type="number" id="add_expense_amount" name="amount" step="0.01" required/>

      <div class="checkable-group">
        <label>Paid by</label>
        <div id="creditor_choice"></div>
      </div>

      <div class="checkable-group">
        <label>Applies to</label>
        <div id="participants_choice"></div>
      </div>

      <label for="add_expense_date">Date</label>
      <input type="date" id="add_expense_date" name="date" required/>
      <input type="hidden" name="currency" value="EUR" />

      <input type="submit" name="submit" value="Add" />
      <button type="button" title="Cancel" to="/trip/expenses" class="cancel">Cancel</button>
    </form>
  </section>

  <script type="module" src="./main.js"></script>
  <script type="module">
    import main from './main.js'
    main()
  </script>
</body>
</html>
